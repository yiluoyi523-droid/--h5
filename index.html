<script>
  // 元素绑定
  const page1 = document.getElementById('page1');
  const page2 = document.getElementById('page2');
  const nextBtn = document.getElementById('nextBtn');
  const backBtn = document.getElementById('backBtn');
  const agreeCheckbox = document.getElementById('agree');
  const payBtn = document.getElementById('payBtn');
  const qrContainer = document.getElementById('qrContainer');
  const successMessage = document.getElementById('successMessage');
  const refundContent = document.getElementById('refundContent');

  // 下一步 / 返回
  nextBtn.addEventListener('click', () => {
    page1.classList.remove('active');
    page2.classList.add('active');
    window.scrollTo({ top:0, behavior:"smooth" });
  });
  backBtn.addEventListener('click', () => {
    page2.classList.remove('active');
    page1.classList.add('active');
    window.scrollTo({ top:0, behavior:"smooth" });
  });

  // 勾选协议启用支付
  agreeCheckbox.addEventListener('change', () => {
    if(agreeCheckbox.checked){
      refundContent.style.display = 'block';
      payBtn.disabled = false; // 直接启用支付按钮，手机端无需滚动
    } else {
      refundContent.style.display = 'none';
      payBtn.disabled = true;
    }
  });

  // 支付按钮逻辑
  let confirmPayBtn = null;
  payBtn.addEventListener('click', () => {
    qrContainer.style.display = 'block';
    if(!confirmPayBtn){
      confirmPayBtn = document.createElement('button');
      confirmPayBtn.textContent = "我已支付";
      confirmPayBtn.style.cssText = "display:block;width:100%;padding:15px;margin-top:10px;background:#06c1ae;color:#fff;border:none;border-radius:8px;cursor:pointer;";
      page2.appendChild(confirmPayBtn);

      confirmPayBtn.addEventListener('click', ()=>{
        successMessage.style.display = 'block';
        qrContainer.style.display = 'none';
        confirmPayBtn.style.display = 'none';
        successMessage.scrollIntoView({behavior:"smooth"});
      });
    }
  });
</script>
</body>
</html>
<script>
  // 元素绑定
  const page1 = document.getElementById('page1');
  const page2 = document.getElementById('page2');
  const nextBtn = document.getElementById('nextBtn');
  const backBtn = document.getElementById('backBtn');
  const agreeCheckbox = document.getElementById('agree');
  const payBtn = document.getElementById('payBtn');
  const qrContainer = document.getElementById('qrContainer');
  const successMessage = document.getElementById('successMessage');
  const refundContent = document.getElementById('refundContent');

  // 下一步 / 返回
  nextBtn.addEventListener('click', () => {
    page1.classList.remove('active');
    page2.classList.add('active');
    window.scrollTo({ top:0, behavior:"smooth" });
  });
  backBtn.addEventListener('click', () => {
    page2.classList.remove('active');
    page1.classList.add('active');
    window.scrollTo({ top:0, behavior:"smooth" });
  });

  // 勾选协议启用支付
  agreeCheckbox.addEventListener('change', () => {
    if(agreeCheckbox.checked){
      refundContent.style.display = 'block';
      payBtn.disabled = false; // 直接启用支付按钮，手机端无需滚动
    } else {
      refundContent.style.display = 'none';
      payBtn.disabled = true;
    }
  });

  // 支付按钮逻辑
  let confirmPayBtn = null;
  payBtn.addEventListener('click', () => {
    qrContainer.style.display = 'block';
    if(!confirmPayBtn){
      confirmPayBtn = document.createElement('button');
      confirmPayBtn.textContent = "我已支付";
      confirmPayBtn.style.cssText = "display:block;width:100%;padding:15px;margin-top:10px;background:#06c1ae;color:#fff;border:none;border-radius:8px;cursor:pointer;";
      page2.appendChild(confirmPayBtn);

      confirmPayBtn.addEventListener('click', ()=>{
        successMessage.style.display = 'block';
        qrContainer.style.display = 'none';
        confirmPayBtn.style.display = 'none';
        successMessage.scrollIntoView({behavior:"smooth"});
      });
    }
  });
</script>
</body>
</html>
